#include<stdio.h>
#include<string.h>
#include<ctype.h>
#include<math.h>

void push(int stack[],int*top,int elem);
int pop(int stack[],int*top);

int main()
{
    int stack[50],i,op1,op2,res;
    char expr[50],symb;
    int top=-1;
    printf("\nEnter the valid postfix expression:");
    scanf("%s",expr);
    for(i=0;i<strlen(expr);i++)
    {
        symb=expr[i];
        if(isdigit(symb))
        {
            push(stack,&top,symb-'0');
        }else{
        op2=pop(stack,&top);
        op1=pop(stack,&top);
        switch(symb)
        {
            case '+':res=op1+op2;
            break;
            case '-':res=op1-op2;
            break;
            case '*':res=op1*op2;
            break;
            case '/':res=op1/op2;
            break;
            case '%':res=op1%op2;
            break;
            case '^':res=(int)pow(op1,op2);
            break;
            default:printf("\nInvalid Operator:%c\n",symb);
            return 0;
        }
        push(stack,&top,res);
        }
        }
        res=pop(stack,&top);
        printf("\nValue of %s expression is:%d\n",expr,res);
        return 0;
}
 void push(int stack[],int*top,int elem)
 {
     (*top)++;
     stack[*top]=elem;
 }
int pop(int stack[],int*top)
{
    int elem=stack[*top];
    (*top)--;
    return elem;
}
